<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="images/anger.webp">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anger - Control your Anger by protecting your data.</title>
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="Anger">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline';">
  <meta http-equiv="Expect-CT" content="enforce, max-age=30">
  <meta http-equiv="Feature-Policy" content="geolocation 'self'; microphone 'none'">
  <meta http-equiv="Referrer-Policy" content="no-referrer">
  <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta name="referrer" content="no-referrer" />
  <meta name="robots" content="noindex, nofollow">
</head>
<body>
  <div id="particles-js"></div>
  <script src="../js/particles.min.js"></script>
  <script src="js/app.js"></script>
  <div class="container">
    <div class="logo">
      <img src="images/anger.webp" draggable="false" alt="Logo">
      <h1 id="text">Anger is a gift.</h1>
    </div>
    <form rel="noreferrer" action="submit" class="search-bar" autocomplete="off" title="">
      <input type="text" name="q" id="searchInput" aria-label="Search" autocomplete="off">
      <button type="submit" id="search"></button>
    </form>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function(event) {
        document.referrerPolicy = "no-referrer";
        document.cacheControl = "no-store, no-cache, must-revalidate, max-age=0";
        document.cacheControl += "post-check=0, pre-check=0";
        document.pragma = "no-cache";

        function generateRandomUserAgent() {
          // var platforms = [
          // 'Windows NT 10.0; Win64; x64',
          // 'Windows NT 6.1; Win64; x64',
          // 'Macintosh; Intel Mac OS X 10_15_7',
          // 'Linux x86_64'
          // ];

          // var browsers = [
          // 'Chrome',
          // 'Firefox',
          // 'Safari',
          // 'Edge',
          // 'Opera'
          // ];

          // var randomPlatform = platforms[Math.floor(Math.random() * platforms.length)];
          // var randomBrowser = browsers[Math.floor(Math.random() * browsers.length)];
          // var version = Math.floor(Math.random() * 100) + 1;

          var userAgent = `Anger is a gift.`;
          Object.defineProperty(navigator, 'userAgent', {
            get: function () { return `${userAgent}`; }
          });

          // Object.defineProperty(navigator, 'userAgent', {
          //   get: function () { return `Mozilla/5.0 (${randomPlatform}) AppleWebKit/537.37 (KHTML, like Gecko) ${randomBrowser}/${version}.0`; }
          // });

          return userAgent;
        }

        var randomUserAgent = generateRandomUserAgent();

        document.setUserData = randomUserAgent;
        navigator.userAgent = randomUserAgent;;
      });

        const searchForm = document.querySelector(".search-bar");
        searchForm.addEventListener("submit", function(event) {
          event.preventDefault();
          const queryParam = document.getElementById("searchInput").value.trim();
          if (queryParam) {
            const googleSearchUrl = "https://google.com/search?q=" + encodeURIComponent(queryParam);
            window.location.assign(googleSearchUrl);
          }
        });
        const urlParams = new URLSearchParams(window.location.search);
        const initialQueryParam = urlParams.get("q");
        if (initialQueryParam) {
          document.getElementById("searchInput").value = initialQueryParam;
        }

        window.onload = function() {
          let text = document.getElementById("text");

          const innerHTMLArray = [
            "Anger is a gift.",
            "Anger is the catalyst for growth.",
            "Anger is the heartbeat of passion.",
            "Anger is the wake-up call to action.",
            "Anger is the sword of righteousness.",
            "Anger is the fire that purifies.",
            "Anger is the spark of transformation.",
            "Anger is the fuel for change.",
            "Anger is the ally of justice.",
            "Anger is the surge of empowerment.",
            "Anger is the fuel that propels us forward.",
            "Anger is the voice of the oppressed.",
            "Anger is the defender of the voiceless.",
            "Anger is the revolution against injustice.",
            "Anger is the energy that demands change.",
            "Anger is the guardian of our boundaries.",
            "Anger is the storm that clears the path to truth.",
            "Anger is the force that refuses to be silenced.",
            "Anger is the outcry for equality.",
            "Anger is the refusal to accept the status quo."
          ];

          let lastIndex = localStorage.getItem("lastIndex");

          lastIndex = lastIndex ? parseInt(lastIndex) : -1;

          let randomIndex;
          do {
            randomIndex = Math.floor(Math.random() * innerHTMLArray.length);
          } while (randomIndex === lastIndex);

          text.innerHTML = innerHTMLArray[randomIndex];

          localStorage.setItem("lastIndex", randomIndex.toString());
        }
  </script>
</body>
</html>
