<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="images/anger.webp">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anger - Control your Anger by protecting your data.</title>
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="Anger">
</head>
<body>
  <div id="particles-js"></div>
  <script src="../js/particles.min.js"></script>
  <script src="js/app.js"></script>
  <div class="container">
    <div class="logo">
      <img src="images/anger.webp" draggable="false" alt="Logo">
      <h1 id="text">Anger is a gift.</h1>
    </div>
    <form rel="noreferrer" action="submit" class="search-bar" autocomplete="off" title="">
      <input type="text" name="q" id="searchInput" aria-label="Search" autocomplete="off" required>
      <button type="submit"><img id="search" src="images/search.webp" alt="Search"></button>
    </form>
  </div>
  <script>
        const searchForm = document.querySelector(".search-bar");
        searchForm.addEventListener("submit", function(event) {
          event.preventDefault();
          const queryParam = document.getElementById("searchInput").value.trim();
          if (queryParam) {
            const googleSearchUrl = "https://www.google.com/search?q=" + encodeURIComponent(queryParam);
            window.location.assign(googleSearchUrl);
          }
        });
        const urlParams = new URLSearchParams(window.location.search);
        const initialQueryParam = urlParams.get("q");
        if (initialQueryParam) {
          document.getElementById("searchInput").value = initialQueryParam;
        }

        window.onload = function() {
          let text = document.getElementById("text");

          const innerHTMLArray = [
            "Anger is a gift.",
            "Anger is the catalyst for growth.",
            "Anger is the heartbeat of passion.",
            "Anger is the wake-up call to action.",
            "Anger is the sword of righteousness.",
            "Anger is the fire that purifies.",
            "Anger is the spark of transformation.",
            "Anger is the fuel for change.",
            "Anger is the ally of justice.",
            "Anger is the surge of empowerment."
          ];

          let lastIndex = localStorage.getItem("lastIndex");

          lastIndex = lastIndex ? parseInt(lastIndex) : -1;

          let randomIndex;
          do {
            randomIndex = Math.floor(Math.random() * innerHTMLArray.length);
          } while (randomIndex === lastIndex);

          text.innerHTML = innerHTMLArray[randomIndex];

          localStorage.setItem("lastIndex", randomIndex.toString());
        }
  </script>
</body>
</html>
