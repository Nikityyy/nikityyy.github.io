<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>BWconomy</title>
	<meta name="description" content="Improve your business.">
	<style>
	@font-face {
		font-family: 'Poppins';
		font-style: normal;
		font-weight: 400;
		font-display: swap;
		src: url("fonts/Poppins.woff2") format('woff2');
	}
	
	body {
		font-family: 'Poppins', sans-serif;
		background-color: #F0F8FF;
		color: #333;
		margin: 0;
		padding: 0;
		display: flex;
		flex-direction: column;
		min-height: 100vh;
		justify-content: center;
		align-items: center;
		transition: background-color 0.3s, color 0.3s;
	}
	
	body.dark-mode {
		background-color: #121212;
		color: #E0E0E0;
	}
	
	header {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		background-color: #264653;
		color: #fff;
		padding: 20px 0;
		text-align: center;
		display: flex;
		justify-content: center;
		align-items: center;
		transition: all 0.3s;
	}
	
	body.dark-mode header {
		background-color: #0d1763;
	}
	
	header .logo {
		font-size: 1.5em;
		font-weight: 600;
		flex: 1;
	}
	
	header .dark-mode-toggle {
		margin-right: 20px;
		cursor: pointer;
		font-size: 27px;
		position: absolute;
    	right: 0;
	}
	
	.main {
		max-width: 600px;
		width: 80%;
		text-align: center;
		padding: 20px;
		background: #fff;
		border-radius: 10px;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		transition: background-color 0.3s, box-shadow 0.3s;
		margin-top: 100px;
	}
	
	body.dark-mode .main,
	body.dark-mode #result {
		background-color: #1E1E1E;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
	}
	
	.main h1 {
		font-size: 2.5em;
		color: #2A9D8F;
	}
	
	body.dark-mode .main h1,
	body.dark-mode #result h2 {
		color: #344afb;
	}
	
	.main p {
		font-size: 1em;
		margin: 20px 0;
		color: #264653;
	}
	
	body.dark-mode .main p,
	body.dark-mode #result p,
    body.dark-mode #result h3 {
		color: #A0A0A0;
	}
	
	.input-area {
		display: flex;
		align-items: center;
		margin: 20px 0;
		border: 1px solid #2A9D8F;
		border-radius: 5px;
		overflow: hidden;
		background-color: #F9FAFB;
		transition: all 0.3s;
	}
	
	body.dark-mode .input-area {
		background-color: #2C2C2C;
		border: 1px solid #8a8a8a;
	}
	
	.input-area input[type="url"] {
		flex: 1;
		padding: 20px 10px;
		font-size: 1em;
		border: none;
		outline: none;
		background-color: #F9FAFB;
		transition: all 0.3s;
	}
	
	body.dark-mode .input-area input[type="url"] {
		background-color: #2C2C2C;
		color: #E0E0E0;
		transition: all 0.3s;
	}
	
	.file-upload {
		display: flex;
		align-items: center;
		justify-content: center;
	}
	
	.file-upload input[type="file"] {
		display: none;
	}
	
	.file-upload label {
		display: flex;
		margin: 15px;
		color: #fff;
		border-radius: 20px;
		cursor: pointer;
	}
	
	button.analyze-button {
		padding: 20px 0px;
		background-color: #2A9D8F;
		color: #fff;
		border: none;
		cursor: pointer;
		border-radius: 15px;
		transition: background-color 0.3s ease;
		margin-top: 20px;
		font-size: 16px;
		height: 58px;
		width: 120px;
	}
	
	button.analyze-button:hover {
		background-color: #21867A;
	}
	
	body.dark-mode button.analyze-button {
		background-color: #344afb;
	}
	
	body.dark-mode button.analyze-button:hover {
		background-color: #2D3CAD;
	}

    body.dark-mode #remove-file {
		background-color: #ff0000;
	}
	
	body.dark-mode #remove-file:hover {
		background-color: #a30000;
	}
	
	#attachment {
		width: 27px;
		transition: all 0.3s;
	}
	
	#attachment:hover {
		transform: scale(1.125)
	}
	
	body.dark-mode #attachment {
		filter: invert(1);
	}
	
	#remove-file {
		display: none;
		padding: 20px 0px;
		background-color: #e76f51;
		color: #fff;
		border: none;
		cursor: pointer;
		border-radius: 15px;
		transition: all 0.3s;
		margin-top: 20px;
		font-size: 16px;
		height: 58px;
		width: 120px;
	}
	
	#remove-file:hover {
		background-color: #d65742;
	}
	
	#result {
		height: auto;
		width: 80%;
		max-width: 600px;
		border-radius: 10px;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		background-color: white;
		margin: 20px 0;
		display: block;
		transition: all 0.3s, max-height 10s, padding 0s;
		max-height: 0;
		overflow: hidden;
	}

    #result h2 {
        color: #2A9D8F;
    }

    #result h3, #result p {
        color: #264653;
    }
	
	@keyframes spin {
		0% {
			transform: rotate(0deg);
		}
		100% {
			transform: rotate(360deg);
		}
	}
	
	.loading-circle {
		border: 4px solid #fff;
		border-top: 4px solid transparent;
		border-radius: 50%;
		width: 15px;
		height: 15px;
		animation: spin 2s linear infinite;
		margin: auto;
	}
	
	body.dark-mode .loading-circle {
		border-top: 4px solid transparent;
	}

	#result a {
		font-size: 30px;
		color: #344afb;
		text-decoration: none;    
		transition: all 0.3s ease-in-out;
		background: linear-gradient(currentColor 0 0) bottom left 50%, linear-gradient(currentColor 0 0) bottom right 50%;
		background-size: var(--underline-width, 0%) 0.1em;
		background-repeat: no-repeat;
		display: inline-block;
		padding: 0.1em 0px;
		margin: 0;
      	cursor: pointer;
	}

	body.dark-mode #result a {
		color: #2A9D8F;
	}

    #result a:hover {
      	--underline-width: 100%;
    }
	
	@media (max-width: 600px) {
		.main h1 {
			font-size: 2em;
		}
	}
	</style>
</head>
<body>
	<header>
		<div class="logo">BW<sup>conomy</sup></div>
		<div class="dark-mode-toggle" onclick="toggleDarkMode()" id="emoji">üåô</div>
	</header>
	<div class="main">
		<h1>WELCOME TO BW<sup>conomy</sup></h1>
		<p>Experience professional website analytics for free with BWconomy's marketing platform!
			<br>Improve Your website to the needs of a BW-certificated website.</p>
		<div class="input-area">
			<input type="url" placeholder="Enter your website URL" aria-label="Enter your website URL">
			<div class="file-upload">
				<input type="file" id="file-upload" accept=".html">
				<label for="file-upload"><img draggable="false" id="attachment" src="images/icons8-attach-96.png" alt="Upload file"></label>
			</div>
		</div>
		<button id="analyze" class="analyze-button" onclick="analyzeURL()">Analyze</button>
		<button id="remove-file" onclick="removeFile()">Remove File</button>
	</div>
	<div id="result">
		<h2>The four Ps of marketing</h2>
		<p id="fourPs">Lorem ipsum dolor sit amet</p>
		<h2>The four Cs of marketing</h2>
		<p id="fourCs">Lorem ipsum dolor sit amet</p>
		<h2>Search Engine Optimization</h2>
		<p id="seo">Lorem ipsum dolor sit amet</p>
	</div>
	<script>
	document.addEventListener("DOMContentLoaded", function() {
		var inputElement = document.querySelector('.input-area input[type="url"]');
		var analyzeButton = document.getElementById('analyze');
		if(localStorage.getItem('dark-mode') === 'enabled') {
			document.body.classList.add('dark-mode');
			document.getElementById("emoji").innerHTML = "‚òÄÔ∏è";
		}
		inputElement.addEventListener("keypress", function(event) {
			if(event.key === "Enter") {
				event.preventDefault();
				analyzeURL();
			}
		});
	});

	function analyzeURL() {
		var inputElement = document.querySelector('.input-area input[type="url"]');
		var fileInput = document.getElementById('file-upload');
		var file = fileInput.files[0];
		var url = inputElement.value;
		var analyzeButton = document.getElementById('analyze');
		var loadingCircle = '<div class="loading-circle"></div>';
		analyzeButton.innerHTML = loadingCircle;
		analyzeButton.disabled = true;
		analyzeButton.style.cursor = "default";
		if(file) {
			var reader = new FileReader();
			reader.onload = function(event) {
				var fileContent = event.target.result;
				// console.log(fileContent);
				analyzation(fileContent, "!^FILE^!");
				analyzeButton.disabled = false;
				analyzeButton.innerHTML = "Analyze";
				analyzeButton.style.cursor = "pointer";
			};
			reader.readAsText(file);
		} else if(url && url.includes(".")) {
			if(!url.startsWith('http://') && !url.startsWith('https://')) {
				url = 'https://' + url;
				// console.log(url);
			}
			var proxyUrl = 'https://corsmirror.onrender.com/v1/cors?url=';
			fetch(proxyUrl + url).then(function(response) {
				if(!response.ok) {
					throw new Error('Network response was not ok');
				}
				return response.text();
			}).then(function(html) {
				// console.log(html);
				analyzation(html, url);
				analyzeButton.disabled = false;
				analyzeButton.innerHTML = "Analyze";
				analyzeButton.style.cursor = "pointer";
			}).catch(function(err) {
				console.error('Fetch error:', err);
				analyzeButton.disabled = false;
				analyzeButton.innerHTML = "Analyze";
				analyzeButton.style.cursor = "pointer";
			});
		} else {
			alert('Please enter a valid URL / Input a valid file');
			analyzeButton.disabled = false;
			analyzeButton.innerHTML = "Analyze";
			analyzeButton.style.cursor = "pointer";
		}
	}
	
	document.getElementById('file-upload').addEventListener('change', function() {
		var inputElement = document.querySelector('.input-area input[type="url"]');
		var removeFileButton = document.getElementById('remove-file');
		if(this.files.length > 0) {
			inputElement.value = 'File is uploaded';
			inputElement.disabled = true;
			removeFileButton.style.display = 'inline-block';
		} else {
			inputElement.value = '';
			inputElement.disabled = false;
			removeFileButton.style.display = 'none';
		}
	});

	function removeFile() {
		var fileInput = document.getElementById('file-upload');
		var inputElement = document.querySelector('.input-area input[type="url"]');
		var removeFileButton = document.getElementById('remove-file');
		fileInput.value = '';
		inputElement.value = '';
		inputElement.disabled = false;
		removeFileButton.style.display = 'none';
	}

	function toggleDarkMode() {
		document.body.classList.toggle('dark-mode');
		var emoji = document.getElementById("emoji");
		if(document.body.classList.contains('dark-mode')) {
			emoji.innerHTML = "‚òÄÔ∏è";
			localStorage.setItem('dark-mode', 'enabled');
		} else {
			emoji.innerHTML = "üåô";
			localStorage.setItem('dark-mode', 'disabled');
		}
	}

	function analyzation(content, url) {
		var result = document.getElementById("result");
		var ps = document.getElementById("fourPs");
		var cs = document.getElementById("fourCs");
		var seo = document.getElementById("seo");
		const marketingWords4Ps = ["Product", "Price", "Place", "Promotion", "Brand", "Features", "Benefits", "Quality", "Design", "Packaging", "Services", "Variety", "Functionality", "Durability", "Warranty", "Customer", "Value", "Cost", "Discount", "Offer", "Deal", "Pricing", "Strategy", "List", "Retail", "Wholesale", "Skimming", "Penetration", "Competitive", "Bundle", "Location", "Distribution", "Channel", "Supply", "Logistics", "Inventory", "Market", "Coverage", "Placement", "Retailer", "Ecommerce", "Online", "Offline", "Store", "Shipping", "Delivery", "Convenience", "Accessibility", "Advertising", "Publicity", "Sales", "Promotion", "Campaign", "Media", "Social", "SEO", "SEM", "Content", "Strategy", "Communication", "Engagement", "Influencer", "Email", "Marketing", "Digital", "Traditional", "Billboard", "Print", "Radio", "Television", "Direct", "Personal", "Selling", "Public", "Relations", "Event", "Sponsorship", "Contest", "Loyalty", "Program", "Referral", "Word", "Mouth", "Campaign", "Testimonial", "Branding", "Awareness", "Target", "Audience", "Segmentation", "Demographics", "Psychographics", "Geographics", "Behaviour", "Customer", "Acquisition", "Retention", "Experience", "Feedback", "Satisfaction"];
		const marketingWords4Cs = ["Customer", "Cost", "Convenience", "Communication", "Value", "Needs", "Wants", "Desires", "Satisfaction", "Experience", "Feedback", "Loyalty", "Service", "Support", "Relationship", "Engagement", "Personalization", "Trust", "Retention", "Acquisition", "Price", "Affordability", "Perception", "Total", "Ownership", "Investment", "Benefit", "Savings", "Budget", "Expense", "Discount", "Offer", "Deal", "Economy", "Worth", "Advantage", "Profit", "Loss", "Convenience", "Ease", "Access", "Availability", "Delivery", "Shipping", "Location", "Proximity", "Channel", "Platform", "Online", "Offline", "Store", "Retail", "Ecommerce", "Mobile", "Support", "Help", "Assistance", "Time", "Effort", "Comfort", "Flexibility", "Usability", "Navigation", "Simplicity", "Communication", "Interaction", "Engagement", "Message", "Media", "Social", "SEO", "SEM", "Content", "Email", "Marketing", "Campaign", "Strategy", "Conversation", "Feedback", "Response", "Survey", "Testimonial", "Review", "Publicity", "Promotion", "Advertising", "Relations", "Influence", "Brand", "Awareness", "Reach", "Target", "Audience", "Connection", "Touchpoint", "Channel"];
		const seoWords = ["SEO", "Search", "Engine", "Optimization", "Keywords", "Content", "Backlinks", "Rankings", "Traffic", "Organic", "Paid", "Results", "SERP", "Meta", "Title", "Description", "Tags", "Headings", "URL", "Structure", "Sitemap", "Robots.txt", "Indexing", "Crawling", "Google", "Bing", "Yahoo", "Algorithm", "Analytics", "PageSpeed", "Mobile", "Responsive", "Design", "User", "Experience", "UX", "Interface", "UI", "Bounce", "Rate", "Click", "Through", "Rate", "CTR", "Conversion", "Optimization", "CRO", "Alt", "Text", "Images", "Videos", "Schema", "Markup", "Structured", "Data", "Local", "SEO", "NAP", "Name", "Address", "Phone", "Google", "My", "Business", "Reviews", "Citations", "Map", "Pack", "Voice", "Search", "Long-tail", "Keywords", "Short-tail", "Content", "Marketing", "Blog", "Article", "Link", "Building", "Inbound", "Outbound", "Anchor", "Text", "Domain", "Authority", "Page", "Trust", "Spam", "Score", "Social", "Signals", "Engagement", "Analytics", "Tracking", "Performance", "Metrics", "KPI", "Heatmap", "A/B", "Testing"];

		function analyzeWordsPs(content, wordsArray) {
			const words = content.split(/\s+/);
			let count = 0;
			words.forEach(word => {
				if(wordsArray.includes(word)) {
					count++;
				}
			});
			if(count >= 3) {
				return "<h3>The integration of the 4Ps framework in this business strategy is commendable!</h3><p>By focusing on Product, Price, Place, and Promotion, this business maximizes its potential for success and growth.</p>";
			} else if(count > 0) {
				return "<h3>The 4Ps framework is partially implemented in this business strategy.</h3><p>While elements of Product, Price, Place, and Promotion are present, further emphasis on these areas could enhance overall effectiveness.</p>";
			} else {
				return "<h3>The 4Ps framework‚ÄîProduct, Price, Place, and Promotion‚Äîis indispensable for any business. Improve it!</h3><p>Neglecting it means risking:</p><ul><li>Product: Losing market relevance due to an undefined or subpar product.</li><li>Price: Underpricing, overpricing, or signaling low value, hurting profitability.</li><li>Place: Missing out on reaching customers effectively through distribution channels.</li><li>Promotion: Failing to generate awareness and interest, hampering growth.</li></ul>";
			}
		}

		function analyzeWordsCs(content, wordsArray) {
			const words = content.split(/\s+/);
			let count = 0;
			words.forEach(word => {
				if(wordsArray.includes(word)) {
					count++;
				}
			});
			if(count >= 3) {
				return "<h3>Perfect Integration of the 4Cs Framework!</h3><p>This business model demonstrates an impressive integration of the 4Cs framework, focusing on Customer, Cost, Convenience, and Communication. This approach significantly boosts competitiveness and enhances customer satisfaction.</p>";
			} else if(count > 0) {
				return "<h3>Partial Implementation of the 4Cs Framework!</h3><p>While elements of Customer, Cost, Convenience, and Communication are present in this business model, further emphasis on these areas could enhance its overall effectiveness.</p>";
			} else {
				return "<h3>The 4Cs framework‚ÄîCustomer, Cost, Convenience, and Communication‚Äîis indispensable for any business. Improve it!</h3><p>Neglecting it means risking:</p><ul><li>Customer: Losing connection with your target audience's needs and preferences, leading to decreased customer satisfaction and loyalty.</li><li>Cost: Failing to address cost concerns or provide value for money, resulting in loss of competitiveness and profitability.</li><li>Convenience: Overlooking the importance of making your products or services easily accessible and user-friendly, potentially driving customers to competitors.</li><li>Communication: Ineffective communication strategies leading to poor brand visibility, reduced engagement, and missed opportunities to connect with your audience.</li></ul>";
			}
		}

		function analyzeWordsSEO(content, wordsArray) {
			const words = content.split(/\s+/);
			let count = 0;
			words.forEach(word => {
				if(wordsArray.includes(word)) {
					count++;
				}
			});
			if(count >= 3) {
				return "<h3>The SEO on this site is excellent!</h3><p>Optimizing your website for search engines is crucial for online visibility and success. With strong SEO, your site is more likely to rank higher on search engine results pages (SERPs), leading to increased organic traffic and potential conversions. Keep up the good work!</p>";
			} else if(count > 0) {
				return "<h3>The SEO on this site is decent, but there's room for improvement.</h3><p>While some SEO efforts are evident, enhancing optimization strategies can further boost your site's visibility and relevance. Consider refining your keyword targeting and optimizing meta tags and content to enhance search engine rankings and attract more organic traffic.</p>";
			} else {
				return "<h3>Search Engine Optimization (SEO) is crucial for any website. Improve it!</h3><p>Efficient SEO practices enhance your site's visibility, relevance, authority, and conversion rates. Neglecting SEO risks reduced visibility on SERPs, decreased relevance to potential customers, missed opportunities for building authority and trust, and lower conversion rates. Prioritize SEO to maximize your online presence and achieve business success.</p>";
			}
		}


		if (url !== "!^FILE^!") {
			var linkElement = document.createElement("a");

			linkElement.href = url;
			linkElement.target = "_blank";

			url = url.replace(/(^\w+:|^)\/\//, '');
			url = url.split('/')[0];

			linkElement.innerText = url;
			
			var existingElement = document.getElementById("url");
			
			if(existingElement) {
				existingElement.parentNode.replaceChild(linkElement, existingElement);
			} else {
				linkElement.id = "url";
				result.insertBefore(linkElement, result.firstChild);
			}
		}


		ps.innerHTML = analyzeWordsPs(content, marketingWords4Ps);
		cs.innerHTML = analyzeWordsCs(content, marketingWords4Cs);
		seo.innerHTML = analyzeWordsSEO(content, seoWords);
		var remove = document.getElementById("remove-file");
		if(remove.style.display !== "none") {
			remove.click();
		}
		result.style.padding = "20px"
		result.style.maxHeight = "10000px"
	}
	</script>
</body>
</html>